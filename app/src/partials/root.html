<div ng-controller='AutocompleteController'>
	<div class='contain'>
		<form class='search search--root' ng-submit='autocomplete.submit()' ng-keydown='autocomplete.interceptKeys($event)'>
			
			<div class='langs no-select' ng-controller='LanguagesController'>
				<span class='lang relative' ng-repeat='(key, value) in global.languages' ng-init='menu = {}; menu.languageMenuHidden = true'>
					<span class='lang-toggle' ng-click='menu.languageMenuHidden = !value.disabled && menu.languageMenuHidden ? false : true' ng-class='{active: !menu.languageMenuHidden, disabled: value.disabled}'>{{value.full}}</span>{{ $index === 0 ? " &mdash;" : "." }}
					<ul ng-hide='menu.languageMenuHidden' class='lang-menu'>
						<li ng-repeat='option in global.availableLanguages' ng-click='global.chooseLanguage(key, $index); menu.languageMenuHidden = true'>{{option.full}}</li>
					</ul>
				</span>
				<span class='swap' ng-click='global.swapLanguages()'>
					<span class='ion ion-ios-loop-strong'></span>
				</span>
			</div>
			
			<label for='query' class='no-select'>Search to Your Heart's Content</label>
			<button type='submit' class='ok lg' title='Search'>
				<svg>
					<use xlink:href='#magnifier'></use>
				</svg>
			</button><!--
			--><input full-focus startup-focus ng-model='global.query' ng-change='autocomplete.disable(); autocomplete.fetch()' type='text' autofocus='autofocus' autocomplete='off' placeholder='Search' id='query' class='mnstr' />
		</form>
	</div>
	<ul class='autocomplete autocomplete--root lg' ng-show='autocomplete.list.length' ng-class='{inactive: !autocomplete.enabled}'>
		<li ng-class='{active: $index === autocomplete.selection}' class='li-wrap' ng-repeat='item in autocomplete.list track by $index'>
			<span class='contain' ng-click='autocomplete.setSelection($index); autocomplete.submit()'>{{item}}</span>
		</li>
	</ul>
</div>