<div class='entry' track-scroll>
	<div ng-controller='SearchController'>
		<form class='search search--entry' ng-submit='submit()' ng-keydown='interceptKeys($event)'>
			<div class='contain'>
				<button type='submit' class='ok' title='Search'>
					<svg>
						<use xlink:href='#magnifier'></use>
					</svg>
				</button><!--
				--><input full-focus ng-model='global.query' ng-change='disableAutocomplete(); fetchList(url())' type='text' autofocus='autofocus' autocomplete='off' placeholder='Search' id='query' class='xl' />
			</div>

			<div class='contain relative'>
				<ul class='autocomplete autocomplete--entry' ng-show='autocompleteList.length && global.query.length'  ng-class='{inactive: !autocompleteActive}'>
					<li ng-class='{active: $index === autocompleteSelection}' class='li-wrap' ng-repeat='item in autocompleteList track by $index' ng-click='setSelection($index); submit()'>
						{{item}}
					</li>
				</ul>
			</div>
		</form>
	</div>

	<nav class='navigation relative' ng-show='dict.length > 1'>
		<ul keep-afloat>
			<li ng-repeat='definition in dict track by $index' ng-class='{current: isOnScreen($index)}' ng-click='goTo("anchor"+ $index)' title='Jump to {{definition.variant}}'>
				{{definition.variant}}
				<span ng-show='definition.partOfSpeech' class='part-of-speech'>, {{definition.partOfSpeech}}</span>
				<span class='anchor'>
					<svg><use xlink:href='#anchor'></use></svg>
				</span>
			</li>
		</ul>
	</nav>

	<div class='contain'>
		<dl>
			<div ng-repeat='definition in dict track by $index' class='definition' mark-position>
				<dt id='{{"anchor" + $index}}' class='xl'>
					{{definition.variant}}
					<span ng-show='definition.partOfSpeech' class='part-of-speech'>, {{definition.partOfSpeech}}</span>
				</dt>
				<div ng-repeat='domain in definition.domains track by $index' class='domain'>
					<div class='domain-name'>{{domain.domain}}</div>
					<div class='dds'>
						<dd submittable ng-repeat='translation in domain.translations track by $index'>{{translation}}</dd>
					</div>
				</div>
			</div>
		</dl>
	</div>	
</div>